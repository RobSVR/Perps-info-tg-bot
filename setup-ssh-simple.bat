@echo off
chcp 65001 >nul
cls
echo ================================================================
echo   üîë –ü–†–û–°–¢–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê SSH –ö–õ–Æ–ß–ï–ô
echo ================================================================
echo.
echo –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏ –ü–û–®–ê–ì–û–í–û.
echo.

set SERVER=45.132.19.34
set USER=root

echo üìç –®–ê–ì 1: –°–æ–∑–¥–∞–Ω–∏–µ SSH –∫–ª—é—á–∞
echo.
echo –ö–æ–≥–¥–∞ —Å–ø—Ä–æ—Å–∏—Ç passphrase - –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ Enter –¥–≤–∞–∂–¥—ã!
echo.
pause

if not exist "%USERPROFILE%\.ssh" mkdir "%USERPROFILE%\.ssh"

ssh-keygen -t ed25519 -f "%USERPROFILE%\.ssh\id_ed25519" -N ""

if errorlevel 1 (
    echo [–û–®–ò–ë–ö–ê] –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–ª—é—á
    pause
    exit /b 1
)

echo.
echo ‚úÖ –ö–ª—é—á —Å–æ–∑–¥–∞–Ω!
echo.
pause
cls

echo ================================================================
echo üìã –®–ê–ì 2: –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞—à–µ–≥–æ –∫–ª—é—á–∞
echo ================================================================
echo.
echo –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –Ω–∏–∂–µ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å ssh-ed25519):
echo.
echo ----------------------------------------
type "%USERPROFILE%\.ssh\id_ed25519.pub"
echo ----------------------------------------
echo.
echo.
echo –ò–ù–°–¢–†–£–ö–¶–ò–Ø:
echo 1. –í—ã–¥–µ–ª–∏—Ç–µ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∫–ª—é—á–∞ –≤—ã—à–µ (–æ—Ç ssh-ed25519 –¥–æ –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–æ–∫–∏)
echo 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ: Ctrl+C
echo 3. –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...
pause

cls
echo ================================================================
echo üöÄ –®–ê–ì 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
echo ================================================================
echo.
echo –°–µ–π—á–∞—Å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É.
echo.
echo –í–ê–ñ–ù–û: –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—è:
echo   - –í CMD: –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –º—ã—à–∏ –≤—Å—Ç–∞–≤–∏—Ç –ø–∞—Ä–æ–ª—å
echo   - –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤—Ä—É—á–Ω—É—é
echo.
pause

start cmd /k "ssh %USER%@%SERVER%"

cls
echo ================================================================
echo ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
echo ================================================================
echo.
echo –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã:
echo.
echo mkdir -p ~/.ssh
echo nano ~/.ssh/authorized_keys
echo.
echo –í nano:
echo 1. –í—Å—Ç–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –∏–ª–∏ Shift+Insert)
echo 2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: Ctrl+O, –∑–∞—Ç–µ–º Enter
echo 3. –í—ã–π–¥–∏—Ç–µ: Ctrl+X
echo.
echo –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
echo chmod 700 ~/.ssh
echo chmod 600 ~/.ssh/authorized_keys
echo exit
echo.
echo –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞:
echo ssh %USER%@%SERVER%
echo.
echo –ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–æ—Å—å –ë–ï–ó –ø–∞—Ä–æ–ª—è - –≥–æ—Ç–æ–≤–æ! ‚úÖ
echo.
pause

